### Vite 的优势，以及为什么会比 webpack 快？

- 依旧使用 rollUp 打包。不使用 esbuild 的原因是目前 esbuild 的一些功能还在开发中，特别是 代码分割 和 css处理 方面。
- 生产环境仍需打包：嵌套导入会导致额外的网络往返，在生产环境发布未打包的 ESM 仍然效率低下。
- 优势：启动快，开发体验好

- 为什么快？
  - vite 通过一开始将应用中的模块区分成 **依赖** 和 **源码** 两类，通过不同的方式进行处理，加快了开发服务器启动的时间
  - **依赖**：vite 使用 **esbuild 预构建依赖**。esbuild 使用 Go 编写，比以JavaScript编写的打包器预构建依赖快 10-100 倍
  - **源码**：以 **原生ESM** （浏览器逐渐支持原生ESM）方式提供源码。实际上是让浏览器接管了打包程序的部分工作：vite只需要在浏览器请求源码的时候进行转换并按需求提供源码。根据情境动态导入代码，即只有在当前屏幕上实际使用时才会被处理。